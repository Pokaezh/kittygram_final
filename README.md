[![Main Kittygram workflow](https://github.com/Pokaezh/kittygram_final/actions/workflows/main.yml/badge.svg)](https://github.com/Pokaezh/kittygram_final/actions/workflows/main.yml) 

# Проект "Котогорам"

Проект представляет собой блог с возможностью делиться фотогорафиями котов.

## Использованные технологии:

В данном проекте использованы следующие технологии и библиотеки:

- Django (версия 3.2.3) — высокоуровневый веб-фреймворк для создания веб-приложений на Python.
- Django REST Framework (версия 3.12.4) — мощный и гибкий инструмент для создания веб-API на основе Django.
- Djoser (версия 2.1.0) — библиотека для управления аутентификацией пользователей через REST API в Django.
- Pillow (версия 9.0.0) — библиотека для обработки изображений в Python.
- psycopg2-binary (версия 2.9.3) — адаптер базы данных PostgreSQL для Python.
- python-dotenv (версия 1.0.1) — библиотека для загрузки переменных окружения из файла .env.
- webcolors (версия 1.11.1) — библиотека для работы с цветами в веб-разработке.
- pytest (версия 6.2.4) — фреймворк для тестирования кода на Python.
- pytest-django (версия 4.4.0) — плагин для интеграции pytest с Django.
- pytest-pythonpath (версия 0.7.3) — плагин для управления путями Python при выполнении тестов.
- PyYAML (версия 6.0) — библиотека для работы с YAML-форматом в Python.

## Как заполнить .env:
Для корректной работы вашего проекта на Django необходимо создать файл .env в корневой директории проекта и заполнить его следующими переменными окружения:

- POSTGRES_USER=           Имя пользователя для подключения к базе данных PostgreSQL
- POSTGRES_PASSWORD=       Пароль для пользователя базы данных
- POSTGRES_DB=             Название базы данных (по умолчанию django)
- DB_HOST=db               Хост базы данных (обычно 'db' для Docker)
- DB_PORT=5432             Порт, на котором работает база данных PostgreSQL (обычно 5432)
- DJANGO_SECRET_KEY=       Секретный ключ для Django
- DJANGO_DEBUG=False       Режим отладки (True для разработки, False для продакшена)
- DJANGO_ALLOWED_HOSTS=    Список разрешённых хостов для вашего приложения
- USE_SQLITE=False         Использовать ли SQLite (True для разработки, False для использования PostgreSQL)

## Как развернуть проект:

*Развертывание проекта на Django на удаленном сервере с использованием Docker Compose и GitHub Actions*

#### ТребованияТребования

- Установленный Docker и Docker Compose на удаленном сервере
- Учетная запись на GitHub
- Доступ к удаленному серверу по SSH

#### Шаги по развертыванию на удаленном сервере

1. Клонирование репозитория:
   Подключитесь к вашему удаленному серверу и выполните команду:
   
   git clone https://github.com/ваш_пользователь/ваш_репозиторий.git
   cd ваш_репозиторий
   

2. Настройка файла .env:
   Создайте файл .env в корневой директории проекта и заполните его необходимыми переменными окружения. Убедитесь, что все переменные соответствуют вашим требованиям, включая настройки базы данных.

3. Запуск контейнеров с помощью Docker Compose:
   Используйте Docker Compose для сборки и запуска приложения:
   
   docker-compose -f docker-compose.production.yml up --build -d
   
   Флаг -d запускает контейнеры в фоновом режиме.

4. Проверка статуса контейнеров:
   Убедитесь, что все контейнеры запущены и работают корректно:
   
   docker-compose -f docker-compose.production.yml ps
   

5. Доступ к приложению:
   Откройте браузер и перейдите по адресу http://<IP_адрес_вашего_сервера>:9000 для доступа к вашему приложению.

#### CI/CD с GitHub Actions

Этот проект настроен для автоматического тестирования и развертывания с использованием GitHub Actions. При каждом пуше в ветку main будет автоматически выполняться тестирование, сборка образов и их загрузка в Docker Hub.

#### Настройка GitHub Actions

1. Перейдите в раздел "Actions" вашего репозитория на GitHub.

2. Убедитесь, что workflow настроен правильно, и следите за его выполнением при каждом изменении кода.

#### Пример работы workflow

• Тестирование: Каждый раз при пуше в ветку main будут запускаться тесты.
• Сборка и загрузка образов: После успешного прохождения тестов образы будут собраны и загружены в Docker Hub.

#### Заключение

Теперь вы готовы развернуть проект на Django на удаленном сервере с использованием Docker Compose и GitHub Actions. Если у вас возникнут вопросы, не стесняйтесь обращаться!

### Контакты
_Николай Показаньев   https://t.me/Pokaezh   pokaezh@yandex.ru_
